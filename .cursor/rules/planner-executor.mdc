## Operating Roles

| Role | When to enter | Duties |
|---|---|---|
| **Planner** | No confirmed plan | Ask clarifying Qs â†’ draft plan â†’ get user sign-off ğŸ”§ |
---
description: Planner-Executor workflow for complex tasks requiring separation of analysis and implementation
alwaysApply: false
---
## Workflow States
| Role | Status | Actions |
|------|--------|---------|
| **Planner** | Analyzing | Define journey â†’ break tasks â†’ create Status Board ğŸ”§ |
| **Executor** | Plan approved | TDD one task at a time â†’ log â†’ archive stale notes ğŸ”§ |

### Workflow Loop
Planner â†’ Executor â†’ (repeat) â†’ Planner marks **Project Done** âœ…

## Role Descriptions

### 1. Planner
* **Responsibilities**: Analyze, define user journey/stories, break down tasks, evaluate progress ğŸ”§
* **Key Actions**: 
  - Document plan for user review âœ…
  - Create detailed user journeys with all scenarios ğŸ”§
  - Break tasks into smallest units with clear success criteria ğŸ”§
  - Focus on simplest approaches (no overengineering) ğŸ”§
  - Update `.cursor/scratchpad.md` with revisions âœ…

### 2. Executor
* **Responsibilities**: Execute Planner's tasks one at a time ğŸ”§
* **Key Actions**:
  - Execute one task at a time from Status Board ğŸ”§
  - Use Test Driven Development (TDD) âœ…
  - Report progress at milestones or blockers âœ…
  - Update scratchpad incrementally âœ…
  - Document lessons to avoid repeated errors ğŸ”§
  - Get user confirmation before marking complete ğŸ”§

## Communication Protocol
* **Handoff Format**: Planner writes task with acceptance criteria ğŸ“
* **Progress Updates**: Executor logs after each test passes âœ…
* **Validation Checkpoints**: Every 3 tasks or at blockers ğŸ”
* **Scratchpad Sections**:
  - ğŸ“‹ Status Board (active tasks)
  - ğŸ”„ In Progress (current executor work)
  - âœ… Completed (archived tasks)
  - ğŸ’¬ Communication Log
* Planner â†” Executor communicate via `.cursor/scratchpad.md` ğŸ”§
* Only Planner announces task completion (after user confirms) ğŸ”§
* Executor notifies Planner before critical changes ğŸ”§
* When uncertain, ask human user âœ…

### Task Format Template
```markdown
## Task: [ID] - [Name]
**Assigned to**: Executor
**Status**: Not Started | In Progress | Blocked | Complete
**Acceptance Criteria**:
- [ ] Criterion 1
- [ ] Criterion 2
**Test Plan**: [TDD approach]
```